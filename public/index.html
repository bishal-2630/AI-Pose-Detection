<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Tracker - Exercise Tracking</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Exercise Selection Page -->
    <div id="selectionPage" class="page active">
        <div class="selection-container">
            <header class="selection-header">
                <h1>üèãÔ∏è‚Äç‚ôÇÔ∏è Exercise Tracker</h1>
                <p>Select your exercise to begin</p>
            </header>

            <div class="exercise-list">
                <div class="exercise-item" data-exercise="bicep_curl">
                    üí™ Bicep Curls
                </div>
                <div class="exercise-item" data-exercise="pull_up">
                    ‚¨ÜÔ∏è Pull-ups
                </div>
                <div class="exercise-item" data-exercise="push_up">
                    ‚¨áÔ∏è Push-ups
                </div>
            </div>
        </div>
    </div>

    <!-- Pose Detection Page -->
    <div id="detectionPage" class="page">
        <!-- Top Navigation Bar -->
        <div class="top-bar">
            <button id="backBtn" class="back-btn">‚Üê Back</button>
            <div class="current-exercise">
                Current: <span id="currentExerciseName">Bicep Curls</span>
            </div>
        </div>

        <!-- Header Stats -->
        <div class="header-stats">
            <div class="angles-display-header">
                <div class="angle-item-header">
                    <span class="angle-label-header">Left Arm:</span>
                    <span id="leftAngleTitle" class="angle-value-header">--¬∞</span>
                </div>
                <div class="angle-item-header">
                    <span class="angle-label-header">Right Arm:</span>
                    <span id="rightAngleTitle" class="angle-value-header">--¬∞</span>
                </div>
            </div>
            <div class="points-display">
                <span id="landmarkTitle">Points: 0/33</span>
            </div>
        </div>

        <!-- Controls Row -->
        <div class="controls-row">
            <div class="counters-container">
                <div class="counter-title">Arm Counters</div>
                <div class="counters-group">
                    <div class="counter-item">
                        <span class="counter-label">Left:</span>
                        <span id="leftCounter" class="counter-value">0</span>
                    </div>
                    <div class="counter-item">
                        <span class="counter-label">Right:</span>
                        <span id="rightCounter" class="counter-value">0</span>
                    </div>
                    <div class="counter-item">
                        <span class="counter-label">Total:</span>
                        <span id="totalCounter" class="counter-value">0</span>
                    </div>
                </div>
            </div>
            <button id="resetBtn" class="reset-btn">
                <span class="btn-icon">üîÑ</span>
                <span class="btn-text">Reset All</span>
            </button>
        </div>

        <!-- Main Content - Webcam on left, Angles on right -->
        <div class="main-content">
            <!-- Left: Webcam -->
            <div class="webcam-section">
                <div class="webcam-container">
                    <video id="webcam" autoplay playsinline muted></video>
                    <canvas id="overlayCanvas"></canvas>

                    <div class="reps-overlay">
                        <div class="reps-counter">
                            <span class="reps-label">Reps</span>
                            <span id="totalRepsDisplay" class="reps-value">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right: Dual Arm Angles -->
            <div class="angles-sidebar">
                <div class="angles-card">
                    <h3 class="card-title">üìê Dual Arm Angles</h3>
                    <div class="angles-container">
                        <!-- Left Angle Gauge -->
                        <div class="angle-gauge left-gauge">
                            <div class="gauge-header">
                                <span class="arm-label">Left Arm</span>
                                <span id="leftAngleValue" class="angle-text">--¬∞</span>
                            </div>
                            <div class="gauge-circle">
                                <div class="circle-fill" id="leftAngleFill"></div>
                                <div class="circle-center">
                                    <div class="angle-stage" id="leftStage">--</div>
                                </div>
                            </div>
                            <div class="gauge-footer">
                                <div class="stage-indicator" id="leftStageIndicator"></div>
                                <span class="stage-text" id="leftStageText">Ready</span>
                            </div>
                        </div>

                        <!-- Right Angle Gauge -->
                        <div class="angle-gauge right-gauge">
                            <div class="gauge-header">
                                <span class="arm-label">Right Arm</span>
                                <span id="rightAngleValue" class="angle-text">--¬∞</span>
                            </div>
                            <div class="gauge-circle">
                                <div class="circle-fill" id="rightAngleFill"></div>
                                <div class="circle-center">
                                    <div class="angle-stage" id="rightStage">--</div>
                                </div>
                            </div>
                            <div class="gauge-footer">
                                <div class="stage-indicator" id="rightStageIndicator"></div>
                                <span class="stage-text" id="rightStageText">Ready</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scrollable Stats Section -->
        <div class="stats-section">
            <div class="stats-grid">
                <!-- Performance Stats Card -->
                <div class="stats-card">
                    <h3 class="card-title">üìä Performance</h3>
                    <div class="stats-items">
                        <div class="stat-item">
                            <div class="stat-icon">üéØ</div>
                            <div class="stat-content">
                                <div class="stat-label">Landmarks Detected</div>
                                <div class="stat-value" id="detectedPoints">0</div>
                                <div class="stat-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="landmarksProgress"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="stat-item">
                            <div class="stat-icon">‚ö°</div>
                            <div class="stat-content">
                                <div class="stat-label">Processing Mode</div>
                                <div class="stat-value" id="processingMode">Browser</div>
                                <div class="stat-detail" id="latencyDisplay">Latency: --ms</div>
                            </div>
                        </div>

                        <div class="stat-item">
                            <div class="stat-icon">üìà</div>
                            <div class="stat-content">
                                <div class="stat-label">Frame Rate</div>
                                <div class="stat-value" id="fpsCounter">-- FPS</div>
                                <div class="stat-detail" id="confidenceDisplay">Confidence: --%</div>
                            </div>
                        </div>

                        <div class="stat-item">
                            <div class="stat-icon">ü§ñ</div>
                            <div class="stat-content">
                                <div class="stat-label">Detection Status</div>
                                <div class="stat-value" id="detectionStatus">Ready</div>
                                <div class="stat-detail" id="armVisibility">Arms: --</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Legend Card -->
                <div class="stats-card">
                    <h3 class="card-title">üìç Landmark Colors</h3>
                    <div class="legend-items">
                        <div class="legend-item">
                            <span class="legend-dot" style="background: #FF6B6B;"></span>
                            <span class="legend-text">Left Side Points</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot" style="background: #4CC9F0;"></span>
                            <span class="legend-text">Right Side Points</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot" style="background: #FFD166;"></span>
                            <span class="legend-text">Center Points</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot" style="background: #06D6A0;"></span>
                            <span class="legend-text">Angle Arcs</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot" style="background: #118AB2;"></span>
                            <span class="legend-text">Skeleton Lines</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot" style="background: #EF476F;"></span>
                            <span class="legend-text">Active Arm</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="script.js"></script>
    </div>
</body>

</html>